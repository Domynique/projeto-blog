@model IEnumerable<Blog.Api.ViewModels.PostViewModel>

@{
    ViewData["Title"] = "Home Page";
}

<h1>Posts</h1>

@foreach (var post in Model)
{
    <div class="post">
        <h2>@post.Titulo</h2>
        <p>@post.Conteudo</p>
        <p><strong>Publicado em:</strong> @post.DataCadastro.ToString("dd/MM/yyyy")</p>
        <p><strong>Autor:</strong> @post.Autor</p>
        
        <h3>Comentários</h3>
        @if (post.Comentarios.Any())
        {
            foreach (var comentario in post.Comentarios)
            {
                <div class="comentario">
                    <p>@comentario.Conteudo</p>
                    <p><strong>Comentado por:</strong> @comentario.AutorId</p>
                    <p><strong>Data:</strong> @comentario.DataCadastro.ToString("dd/MM/yyyy")</p>
                </div>
            }
        }
        else
        {
            <p>Sem comentários ainda.</p>
        }
    </div>
}